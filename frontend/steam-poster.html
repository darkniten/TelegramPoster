<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>üéÆ Steam –°–∫–∏–¥–∫–∏</title>
    <style>
      body {
        font-family: "Segoe UI", sans-serif;
        margin: 0;
        padding: 20px;
        background: linear-gradient(135deg, #1e1e2f, #2c2c3c);
        color: #f0f0f0;
        display: flex;
        justify-content: center;
        overflow-x: hidden;
      }
      .container {
        max-width: 800px;
        width: 100%;
        background-color: rgba(44, 44, 60, 0.95);
        border-radius: 12px;
        padding: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      }
      h1 {
        text-align: center;
        margin-bottom: 20px;
      }
      .toggle-row {
        display: flex;
        gap: 10px;
        margin: 20px 0;
        flex-wrap: wrap;
      }
      .toggle-button {
        flex: 1;
        padding: 10px;
        text-align: center;
        border-radius: 8px;
        cursor: pointer;
        background-color: #8b2b2b;
        font-weight: bold;
        transition: 0.3s;
        min-width: 200px;
        user-select: none;
      }
      .toggle-button.active {
        background-color: #2e8b57;
      }
      label {
        display: block;
        margin-top: 15px;
        font-weight: bold;
      }
      input,
      textarea {
        padding: 10px;
        border: 1px solid #3a3a50;
        border-radius: 6px;
        font-size: 1em;
        width: 100%;
        box-sizing: border-box;
        margin-top: 5px;
        transition: all 0.3s ease;
        color: #000;
        background-color: #fff;
      }
      input:focus,
      textarea:focus {
        outline: none;
        box-shadow: 0 0 0 2px #4caf50;
        background-color: #34344a;
        color: #fff;
      }
      textarea {
        resize: vertical;
        min-height: 80px;
      }
      .input-row {
        display: flex;
        align-items: center;
        gap: 6px;
        margin-top: 10px;
        flex-wrap: nowrap;
        padding: 5px 10px;
        background-color: rgba(255, 255, 255, 0.02);
        border-radius: 6px;
        width: 100%;
        box-sizing: border-box;
      }
      .input-row input[type="text"],
      .input-row input[type="number"] {
        padding: 8px;
        font-size: 1em;
        border-radius: 6px;
        border: 1px solid #3a3a50;
        color: #000;
        background-color: #fff;
        flex-shrink: 0;
        box-sizing: border-box;
        transition: all 0.3s ease;
      }
      .input-row span {
        white-space: nowrap;
        flex-shrink: 0;
        font-size: 1.2em;
      }
      /* –î–ª—è —Ü–µ–Ω: —Ä–∞—Å—Ç—è–Ω—É—Ç—å –ø–æ —à–∏—Ä–∏–Ω–µ, —Å –ø—Ä–æ–ø–æ—Ä—Ü–∏—è–º–∏ */
      #rubRow input#rubBefore,
      #rubRow input#rubAfter,
      #uahRow input#uahBefore,
      #uahRow input#uahAfter,
      #eurRow input#eurBefore,
      #eurRow input#eurAfter,
      #kztRow input#kztBefore,
      #kztRow input#kztAfter {
        width: 40%;
        /* –ß—Ç–æ–±—ã —Ü–≤–µ—Ç –º–µ–Ω—è–ª—Å—è, –¥–æ–±–∞–≤–∏–º transition */
        transition: background-color 0.3s, color 0.3s;
      }
      /* –ö–Ω–æ–ø–∫–∏ "–Ω.–ø." —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —à–∏—Ä–∏–Ω—ã */
      .np-button {
        width: 50px;
        height: 32px;
        border-radius: 6px;
        cursor: pointer;
        user-select: none;
        font-weight: bold;
        text-align: center;
        line-height: 32px;
        background-color: #8b2b2b;
        color: white;
        transition: background-color 0.3s ease;
        flex-shrink: 0;
      }
      .np-button.active {
        background-color: #2e8b57;
      }
      /* –ü—Ä–æ—Ü–µ–Ω—Ç —Å–∫–∏–¥–∫–∏ - —à–∏—Ä–µ */
      #discount {
        width: 200%;
        max-width: 200px;
      }
      .relative-wrapper.discount-wrapper {
        max-width: 120px;
      }
      .disabled-input {
        background-color: #555 !important;
        color: #aaa !important;
      }
      button {
        margin-top: 15px;
        padding: 10px 20px;
        background-color: #4caf50;
        border: none;
        color: white;
        font-size: 1em;
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.3s ease;
        user-select: none;
      }
      .action-buttons {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-top: 20px;
        justify-content: center;
      }
      button:hover {
        transform: scale(1.03);
        box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
      }
      pre {
        background-color: #151522;
        padding: 15px;
        border-radius: 8px;
        white-space: pre-wrap;
        font-family: monospace;
        margin-top: 20px;
        max-height: 350px;
        overflow-y: auto;
      }
      .extraGameBlock {
        display: flex;
        flex-direction: column;
        gap: 5px;
        margin-top: 15px;
      }
      .extraGameInner {
        display: flex;
        gap: 10px;
      }
      .extraToggleButton {
        text-align: center;
        border-radius: 8px;
        padding: 8px;
        cursor: pointer;
        font-weight: bold;
        background-color: #8b2b2b;
        transition: 0.3s;
        margin-top: 5px;
        user-select: none;
      }
      .extraToggleButton.active {
        background-color: #2e8b57;
      }
      #regionButtons {
        display: none;
        margin-top: 10px;
        gap: 10px;
        flex-wrap: wrap;
        justify-content: center;
      }
      .region-button {
        min-width: 90px;
        padding: 8px;
        border-radius: 8px;
        font-weight: bold;
        cursor: pointer;
        user-select: none;
        background-color: #8b2b2b;
        color: white;
        transition: 0.3s;
        text-align: center;
      }
      .region-button.active {
        background-color: #2e8b57;
      }
      #yearOptions,
      #discountOptions {
        background-color: #2c2c3c;
        border: 1px solid #4caf50;
        border-radius: 6px;
        margin-top: 3px;
        padding: 5px 10px;
        display: none;
        user-select: none;
        position: absolute;
        color: #f0f0f0;
        font-weight: bold;
        z-index: 100;
      }
      #yearOptions div,
      #discountOptions div {
        padding: 6px 8px;
        cursor: pointer;
        border-radius: 4px;
        margin-bottom: 3px;
      }
      #yearOptions div:hover,
      #discountOptions div:hover {
        background-color: #4caf50;
        color: #000;
      }
      .relative-wrapper {
        position: relative;
        width: 100%;
        max-width: 150px;
        display: inline-block;
      }
      footer {
        text-align: center;
        margin-top: 30px;
        font-size: 0.9em;
        opacity: 0.6;
      }

      .sticker-toggle {
        width: 100%;
        margin-top: 10px;
        padding: 10px;
        font-weight: bold;
        border-radius: 8px;
        background-color: #3a3a4f;
        color: white;
        cursor: pointer;
        transition: background-color 0.3s;
        user-select: none;
        text-align: center;
      }
      .sticker-toggle.active {
        background-color: #4caf50;
        color: #000;
      }

      .sticker-panel {
        display: grid;
        grid-template-columns: repeat(6, 1fr);
        gap: 8px;
        margin-top: 10px;
      }

      .sticker-button {
        padding: 10px;
        font-size: 1.3em;
        text-align: center;
        border-radius: 8px;
        background-color: #8b2b2b;
        color: white;
        cursor: pointer;
        transition: background-color 0.3s;
      }
      .sticker-button.active {
        background-color: #2e8b57;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>üëæ Steam –°–∫–∏–¥–∫–∏ üëæ</h1>

      <label>üìÖ –ì–æ–¥ –∞–∫—Ü–∏–∏:</label>
      <div class="relative-wrapper">
        <input
          type="number"
          id="yearInput"
          placeholder="–ì–æ–¥ (–≥–≥–≥–≥)"
          autocomplete="off"
        />
        <div id="yearOptions">
          <div data-year="2025">2025</div>
          <div data-year="2026">2026</div>
          <div data-year="2027">2027</div>
        </div>
      </div>
      <button
        id="stickerToggle"
        class="sticker-toggle"
        onclick="toggleStickerPanel()"
      >
        üéØ –í—ã–±—Ä–∞—Ç—å —Å—Ç–∏–∫–µ—Ä
      </button>
      <div id="stickerPanel" class="sticker-panel" style="display: none"></div>

      <label>üïπÔ∏è –ù–∞–∑–≤–∞–Ω–∏–µ –∏–≥—Ä—ã:</label>
      <input type="text" id="title" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∏–≥—Ä—ã" />

      <label>üìù –û–ø–∏—Å–∞–Ω–∏–µ –∏–≥—Ä—ã:</label>
      <textarea id="description" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ –∏–≥—Ä—ã"></textarea>

      <label>üìà –ü–∏–∫ –æ–Ω–ª–∞–π–Ω–∞ –∑–∞ 24—á:</label>
      <input type="number" id="peakOnline" placeholder="–ü–∏–∫ –æ–Ω–ª–∞–π–Ω–∞ –∑–∞ 24—á" />

      <label>üè∑Ô∏è –¢–µ–≥–∏ –∏–≥—Ä—ã (—á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª):</label>
      <input type="text" id="gameTags" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä: survival action indie" />

      
      <label>üí• –ü—Ä–æ—Ü–µ–Ω—Ç —Å–∫–∏–¥–∫–∏:</label>
      <div class="relative-wrapper discount-wrapper">
        <input
          type="number"
          id="discount"
          placeholder="–ü—Ä–æ—Ü–µ–Ω—Ç —Å–∫–∏–¥–∫–∏"
          autocomplete="off"
        />
        <div id="discountOptions">
          <div data-discount="65">65%</div>
          <div data-discount="70">70%</div>
          <div data-discount="75">75%</div>
          <div data-discount="80">80%</div>
          <div data-discount="85">85%</div>
          <div data-discount="90">90%</div>
          <div data-discount="95">95%</div>
        </div>
      </div>

      <div class="toggle-row">
        <div
          id="btnBiggest"
          class="toggle-button"
          onclick="toggleButton('btnBiggest')"
        >
          üìâ –°–∞–º–∞—è –±–æ–ª—å—à–∞—è —Å–∫–∏–¥–∫–∞
        </div>
        <div id="btnFree" class="toggle-button" onclick="toggleFreeGame()">
          üéÅ –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –∏–≥—Ä–∞
        </div>
      </div>

      <div id="regionButtons">
        <div
          class="region-button"
          id="regionRub"
          onclick="toggleRegion('regionRub')"
        >
          ‚ÇΩ –†–£–ë
        </div>
        <div
          class="region-button"
          id="regionUah"
          onclick="toggleRegion('regionUah')"
        >
          ‚Ç¥ –ì–†–ù
        </div>
        <div
          class="region-button"
          id="regionEur"
          onclick="toggleRegion('regionEur')"
        >
          ‚Ç¨ –ï–í–†–û
        </div>
        <div
          class="region-button"
          id="regionKzt"
          onclick="toggleRegion('regionKzt')"
        >
          ‚Ç∏ –¢–ï–ù–ì–ï
        </div>
      </div>

      <label>üõí –¶–µ–Ω—ã:</label>

      <div class="input-row" id="rubRow">
        <input type="text" id="rubBefore" placeholder="–¥–æ | —Ä—É–±" />
        <div
          class="np-button"
          id="npRubBefore"
          onclick="toggleNp('npRubBefore', 'rubBefore')"
        >
          –Ω.–ø.
        </div>
        <span>‚û°Ô∏è</span>
        <input type="text" id="rubAfter" placeholder="–ø–æ—Å–ª–µ | —Ä—É–±" />
        <div
          class="np-button"
          id="npRubAfter"
          onclick="toggleNp('npRubAfter', 'rubAfter')"
        >
          –Ω.–ø.
        </div>
      </div>

      <div class="input-row" id="uahRow">
        <input type="text" id="uahBefore" placeholder="–¥–æ | –≥—Ä–Ω" />
        <div
          class="np-button"
          id="npUahBefore"
          onclick="toggleNp('npUahBefore', 'uahBefore')"
        >
          –Ω.–ø.
        </div>
        <span>‚û°Ô∏è</span>
        <input type="text" id="uahAfter" placeholder="–ø–æ—Å–ª–µ | –≥—Ä–Ω" />
        <div
          class="np-button"
          id="npUahAfter"
          onclick="toggleNp('npUahAfter', 'uahAfter')"
        >
          –Ω.–ø.
        </div>
      </div>

      <div class="input-row" id="eurRow">
        <input type="text" id="eurBefore" placeholder="–¥–æ | –µ–≤—Ä–æ" />
        <div
          class="np-button"
          id="npEurBefore"
          onclick="toggleNp('npEurBefore', 'eurBefore')"
        >
          –Ω.–ø.
        </div>
        <span>‚û°Ô∏è</span>
        <input type="text" id="eurAfter" placeholder="–ø–æ—Å–ª–µ | –µ–≤—Ä–æ" />
        <div
          class="np-button"
          id="npEurAfter"
          onclick="toggleNp('npEurAfter', 'eurAfter')"
        >
          –Ω.–ø.
        </div>
      </div>

      <div class="input-row" id="kztRow">
        <input type="text" id="kztBefore" placeholder="–¥–æ | —Ç–µ–Ω–≥–µ" />
        <div
          class="np-button"
          id="npKztBefore"
          onclick="toggleNp('npKztBefore', 'kztBefore')"
        >
          –Ω.–ø.
        </div>
        <span>‚û°Ô∏è</span>
        <input type="text" id="kztAfter" placeholder="–ø–æ—Å–ª–µ | —Ç–µ–Ω–≥–µ" />
        <div
          class="np-button"
          id="npKztAfter"
          onclick="toggleNp('npKztAfter', 'kztAfter')"
        >
          –Ω.–ø.
        </div>
      </div>

      <label>üìÜ –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Å–∫–∏–¥–∫–∏:</label>
      <input type="text" id="date" placeholder="–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è (–¥–¥.–º–º)" />

      <label>üéÆ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–≥—Ä—ã –ø–æ –∞–∫—Ü–∏–∏:</label>
      <div id="extraGames"></div>

      <div class="action-buttons">
        <button onclick="generatePost()">–°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç</button>
        <button onclick="copyToClipboard()">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <button onclick="clearFields()">–û—á–∏—Å—Ç–∏—Ç—å</button>
        <button onclick="goBackToMain()">üîô –í –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</button>
      </div>

      <pre id="output"></pre>
      <footer>¬© 2025 Steam Discount Generator</footer>
    </div>

    <script>
      const extraGames = document.getElementById("extraGames");
      for (let i = 0; i < 4; i++) {
        const block = document.createElement("div");
        block.className = "extraGameBlock";

        const inner = document.createElement("div");
        inner.className = "extraGameInner";

        const titleInput = document.createElement("input");
        titleInput.type = "text";
        titleInput.className = "extraTitle disabled-input";
        titleInput.placeholder = "–ù–∞–∑–≤–∞–Ω–∏–µ –∏–≥—Ä—ã";
        titleInput.disabled = true;

        const discountInput = document.createElement("input");
        discountInput.type = "text";
        discountInput.className = "extraDiscount disabled-input";
        discountInput.placeholder = "%";
        discountInput.disabled = true;

        const toggle = document.createElement("div");
        toggle.className = "extraToggleButton";
        toggle.innerText = "–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å";
        toggle.onclick = () => {
          const isActive = toggle.classList.toggle("active");
          titleInput.disabled = !isActive;
          discountInput.disabled = !isActive;
          titleInput.classList.toggle("disabled-input", !isActive);
          discountInput.classList.toggle("disabled-input", !isActive);
        };

        inner.append(titleInput, discountInput);
        block.append(inner, toggle);
        extraGames.appendChild(block);
      }

      const regions = {
        regionRub: true,
        regionUah: false,
        regionEur: true,
        regionKzt: false,
      };

      function toggleButton(id) {
        const btn = document.getElementById(id);
        btn.classList.toggle("active");
      }

      function toggleFreeGame() {
        toggleButton("btnFree");
        const active = document
          .getElementById("btnFree")
          .classList.contains("active");
        const discount = document.getElementById("discount");
        discount.disabled = active;
        discount.style.backgroundColor = active ? "#5e2c2c" : "";
        const fields = [
          "rubBefore",
          "rubAfter",
          "uahBefore",
          "uahAfter",
          "eurBefore",
          "eurAfter",
          "kztBefore",
          "kztAfter",
        ];
        fields.forEach((id) => {
          const el = document.getElementById(id);
          el.disabled = active;
          el.style.backgroundColor = active ? "#5e2c2c" : "";
          el.style.color = active ? "#ccc" : "#000"; // –º–µ–Ω—è–µ–º —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ —Ç–æ–∂–µ
        });

        const regionButtons = document.getElementById("regionButtons");
        if (active) {
          regionButtons.style.display = "flex";
        } else {
          regionButtons.style.display = "none";
          Object.keys(regions).forEach((key) => (regions[key] = false));
          updateRegionButtons();
        }
      }

      function toggleRegion(id) {
        regions[id] = !regions[id];
        updateRegionButtons();
      }

      function updateRegionButtons() {
        Object.entries(regions).forEach(([id, active]) => {
          const btn = document.getElementById(id);
          if (active) btn.classList.add("active");
          else btn.classList.remove("active");
        });
      }

      const yearInput = document.getElementById("yearInput");
      const yearOptions = document.getElementById("yearOptions");
      yearInput.addEventListener("focus", () => {
        yearOptions.style.display = "block";
      });
      yearInput.addEventListener("blur", () => {
        setTimeout(() => {
          yearOptions.style.display = "none";
        }, 150);
      });
      yearOptions.querySelectorAll("div").forEach((div) => {
        div.addEventListener("mousedown", (e) => {
          e.preventDefault();
          yearInput.value = div.dataset.year;
          yearOptions.style.display = "none";
        });
      });

      const discountInput = document.getElementById("discount");
      const discountOptions = document.getElementById("discountOptions");
      discountInput.addEventListener("focus", () => {
        discountOptions.style.display = "block";
      });
      discountInput.addEventListener("blur", () => {
        setTimeout(() => {
          discountOptions.style.display = "none";
        }, 150);
      });
      discountOptions.querySelectorAll("div").forEach((div) => {
        div.addEventListener("mousedown", (e) => {
          e.preventDefault();
          discountInput.value = div.dataset.discount;
          discountOptions.style.display = "none";
        });
      });

      // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –∫–Ω–æ–ø–∫–∏ –Ω.–ø. –∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è input
      function toggleNp(btnId, inputId) {
        const btn = document.getElementById(btnId);
        const input = document.getElementById(inputId);

        btn.classList.toggle("active");
        const isActive = btn.classList.contains("active");
        input.disabled = isActive;

        updateInputColor(input, isActive);
      }

      // –û–±–Ω–æ–≤–ª—è–µ—Ç —Ü–≤–µ—Ç input –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç disabled –∏–ª–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∫–Ω–æ–ø–∫–∏ "–Ω.–ø."
      function updateInputColor(input, isDisabled) {
        if (isDisabled) {
          input.classList.add("disabled-input");
        } else {
          input.classList.remove("disabled-input");
        }
      }

      // –ß—Ç–æ–±—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ü–≤–µ—Ç–∞ –ø–æ —Ç–µ–∫—É—â–µ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é
      window.onload = () => {
        const npButtons = document.querySelectorAll(".np-button");
        npButtons.forEach((btn) => {
          const inputId = btn.id
            .replace("np", "")
            .replace(/^./, (c) => c.toLowerCase());
          // –ù–∞–ø—Ä–∏–º–µ—Ä npRubBefore -> rubBefore
          const input = document.getElementById(inputId);
          if (input) {
            updateInputColor(input, btn.classList.contains("active"));
            input.disabled = btn.classList.contains("active");
          }
        });
      };

      // –¢–≤–æ–π –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ—Å—Ç–∞, –æ—á–∏—Å—Ç–∫–∏ –∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è - –æ—Å—Ç–∞–≤—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
      function generatePost() {
      let post = `${selectedSticker ? selectedSticker + " " : ""}\`${title}\`\n${desc}`;
      
      if (peakOnline) {
        post += `\n\n–ü–∏–∫ –æ–Ω–ª–∞–π–Ω–∞ –∑–∞ 24—á: ${peakOnline}`;
      }
      if (gameTags) {
        post += `\n–¢–µ–≥–∏: ${gameTags}`;
      }
      
      post += `\n\n${priceBlock}\n\nüïí –ê–∫—Ü–∏—è –¥–æ: **${date}.${year}**`;



        const year = document.getElementById("yearInput").value;
        const title = document.getElementById("title").value.trim();
        const desc = document.getElementById("description").value.trim();
        const discount = document.getElementById("discount").value.trim();
        const date = document.getElementById("date").value.trim();
        const isFree = document
          .getElementById("btnFree")
          .classList.contains("active");
        const isBiggest = document
          .getElementById("btnBiggest")
          .classList.contains("active");

        function getPrice(beforeId, afterId, npBeforeId, npAfterId, symbol) {
          const npBeforeActive = document
            .getElementById(npBeforeId)
            .classList.contains("active");
          const npAfterActive = document
            .getElementById(npAfterId)
            .classList.contains("active");

          const beforePrice = npBeforeActive
            ? "–Ω.–ø."
            : document.getElementById(beforeId).value || "...";
          const afterPrice = npAfterActive
            ? "–Ω.–ø."
            : document.getElementById(afterId).value || "...";

          return `${beforePrice}${symbol} ‚û°Ô∏è ${afterPrice}${symbol}`;
        }

        const rub = getPrice(
          "rubBefore",
          "rubAfter",
          "npRubBefore",
          "npRubAfter",
          "‚ÇΩ"
        );
        const uah = getPrice(
          "uahBefore",
          "uahAfter",
          "npUahBefore",
          "npUahAfter",
          "‚Ç¥"
        );
        const eur = getPrice(
          "eurBefore",
          "eurAfter",
          "npEurBefore",
          "npEurAfter",
          "‚Ç¨"
        );
        const kzt = getPrice(
          "kztBefore",
          "kztAfter",
          "npKztBefore",
          "npKztAfter",
          "‚Ç∏"
        );

        let priceBlock = "";
        if (isFree) {
          // –§–æ—Ä–º–∏—Ä—É–µ–º —Å—Ç—Ä–æ–∫—É —Å –æ—Ç–º–µ—Ç–∫–∞–º–∏ —Ä–µ–≥–∏–æ–Ω–æ–≤
          const regionMarks = [];
          regionMarks.push(regions.regionRub ? "‚úÖ‚ÇΩ" : "‚ùå‚ÇΩ");
          regionMarks.push(regions.regionUah ? "‚úÖ‚Ç¥" : "‚ùå‚Ç¥");
          regionMarks.push(regions.regionEur ? "‚úÖ‚Ç¨" : "‚ùå‚Ç¨");
          regionMarks.push(regions.regionKzt ? "‚úÖ‚Ç∏" : "‚ùå‚Ç∏");

          priceBlock = `üí• –ò–≥—Ä–∞ —Å–µ–π—á–∞—Å **–ë–ï–°–ü–õ–ê–¢–ù–ê**\n${regionMarks.join(
            "   "
          )}`;
        } else {
          priceBlock = `üí∏ **–°–ö–ò–î–ö–ê -${discount}%:**\n\`${rub}\`\n\`${uah}\`\n\`${eur}\`\n\`${kzt}\``;
        }

        let extras = [];
        document.querySelectorAll(".extraGameBlock").forEach((block) => {
          const t = block.querySelector(".extraTitle").value.trim();
          const d = block.querySelector(".extraDiscount").value.trim();
          const isActive = !block.querySelector(".extraTitle").disabled;
          
          if (isActive && t && d) {
            extras.push(`${t} | -${d}%`);
          }
        });

        let post = `${selectedSticker ? selectedSticker + " " : ""}\`${title}\`\n${desc}`;
      
        
        post += `\n\n${priceBlock}\n\nüïí –ê–∫—Ü–∏—è –¥–æ: **${date}.${year}**`;


        if (isBiggest) post += "\n\nüìâ –°–∞–º–∞—è –±–æ–ª—å—à–∞—è —Å–∫–∏–¥–∫–∞ –∑–∞ 2 –≥–æ–¥–∞!";
        if (extras.length)
          post += `\n\nüìå –¢–∞–∫–∂–µ –ø–æ –∞–∫—Ü–∏–∏:\n${extras.join("\n")}`;
        post += "\n\nüîó –û—Ç–∫—Ä—ã—Ç—å –≤ Steam\n\n**üìå –°–∫–∏–¥–∫–∏, —Ö–∞–ª—è–≤–∞, –Ω–æ–≤–æ—Å—Ç–∏** ‚Äî @steam_ed";

        document.getElementById("output").innerText = post;
      }

      function copyToClipboard() {
        const output = document.getElementById("output").innerText;
        if (!output) return alert("–ü–æ—Å—Ç –ø—É—Å—Ç–æ–π!");
        navigator.clipboard
          .writeText(output)
          .then(() => alert("–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!"));
      }

      function clearFields() {
        [
          "title",
          "description",
          "discount",
          "rubBefore",
          "rubAfter",
          "uahBefore",
          "uahAfter",
          "eurBefore",
          "eurAfter",
          "kztBefore",
          "kztAfter",
          "date",
          "peakOnline",
          "gameTags",
        ].forEach((id) => {
          const el = document.getElementById(id);
          if (el) {
            el.value = "";
            el.disabled = false;
            el.classList.remove("disabled-input");
          }
        });
        // –°–±—Ä–æ—Å –∫–Ω–æ–ø–æ–∫ –Ω.–ø.
        document
          .querySelectorAll(".np-button.active")
          .forEach((btn) => btn.classList.remove("active"));
        // –°–±—Ä–æ—Å toggle –∫–Ω–æ–ø–æ–∫
        ["btnBiggest", "btnFree"].forEach((id) => {
          const btn = document.getElementById(id);
          if (btn.classList.contains("active")) btn.classList.remove("active");
        });
        updateRegionButtons();
        document.getElementById("output").textContent = "";
      }

      function goBackToMain() {
        window.location.href = "index.html";
      }

      const stickers = [
        "üî•",
        "üéØ",
        "üëæ",
        "üöÄ",
        "üéÆ",
        "üß†",
        "üåÄ",
        "üëΩ",
        "üíÄ",
        "‚öîÔ∏è",
        "üïµÔ∏è‚Äç‚ôÇÔ∏è",
        "üèπ",
        "üèéÔ∏è",
        "üßü‚Äç‚ôÇÔ∏è",
        "üïπÔ∏è",
        "üó°Ô∏è",
        "üì¶",
        "üéÅ",
        "üõ∏",
        "üêâ",
        "üåå",
        "üìú",
        "üè∞",
        "ü™ê",
        "üß±",
        "üé≤",
        "üî´",
        "üß≠",
        "üí£",
        "üèÜ",
        "üéª",
        "üëë",
        "üß¨",
        "üõ°Ô∏è",
        "‚õèÔ∏è",
        "üõ†Ô∏è",
      ];

      let selectedSticker = "";

      function toggleStickerPanel() {
        const toggleBtn = document.getElementById("stickerToggle");
        const panel = document.getElementById("stickerPanel");

        toggleBtn.classList.toggle("active");
        const isActive = toggleBtn.classList.contains("active");
        panel.style.display = isActive ? "grid" : "none";

        if (isActive && panel.children.length === 0) {
          stickers.forEach((emoji, index) => {
            const btn = document.createElement("div");
            btn.className = "sticker-button";
            btn.innerText = emoji;
            btn.onclick = () => {
              // —Å–±—Ä–∞—Å—ã–≤–∞–µ–º –≤—Å–µ
              document
                .querySelectorAll(".sticker-button")
                .forEach((b) => b.classList.remove("active"));
              btn.classList.add("active");
              selectedSticker = emoji;
            };
            panel.appendChild(btn);
          });
        }
      }
    </script>
  </body>
</html>





